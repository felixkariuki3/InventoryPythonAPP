from sqlalchemy import Column, Integer, Float, ForeignKey
from backend.database import Base
from sqlalchemy.orm import relationship

class UOMConversion(Base):
    __tablename__ = "uom_conversions"

    id = Column(Integer, primary_key=True, index=True)
    item_id = Column(Integer, ForeignKey("items.id"))
    from_uom_id = Column(Integer, ForeignKey("uoms.id"))
    to_uom_id = Column(Integer, ForeignKey("uoms.id"))
    factor = Column(Float, nullable=False)

    item = relationship("Item", back_populates="conversions")
    from_uom = relationship("UnitOfMeasure", foreign_keys=[from_uom_id])
    to_uom = relationship("UnitOfMeasure", foreign_keys=[to_uom_id])
